<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Panel del Empleado - GASTÓN TEC</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <!-- LOGIN -->
  <div class="login-screen" id="loginScreen">
    <h2>Ingreso</h2>
    <input type="text" id="username" placeholder="Usuario" />
    <input type="password" id="password" placeholder="Contraseña" />
    <button onclick="login()">Ingresar</button>
  </div>

  <!-- DASHBOARD PRINCIPAL -->
  <div class="dashboard hidden" id="dashboard">
    <h2>¡Hola, <span id="employeeName"></span>!</h2>
    <p>¿Qué querés hacer hoy?</p>
    <button id="kmFormBtn" onclick="showKmForm()">🚗 Cargar KM</button>
    <button id="etiquetaFormBtn" onclick="showEtiquetaForm()">🏷️ Pedir Etiquetas</button>
    <button id="adminBtn" class="hidden" onclick="showCargaEtiquetas()">🧰 Registrar Nuevas Etiquetas</button>
    <button id="misEtiquetasBtn" onclick="mostrarMisEtiquetas()">📋 Mis etiquetas</button>
  </div>

  <!-- FORMULARIO CARGAR KM -->
  <div class="form-screen hidden" id="kmForm">
    <h3>Cargar Kilometraje</h3>
    <label>Vehículo (patente)</label>
    <select id="patente">
      <option>ABC123</option>
      <option>XYZ789</option>
      <option>LMN456</option>
    </select>

    <label>Foto del odómetro (simulada)</label>
    <input type="file" id="fotoKm" />

    <label>Cargue el Km</label>
    <input type="text" id="kmFinal" placeholder="Ingresá el KM actual" />

    <button onclick="enviarKM()">Enviar</button>
    <button onclick="volver()">Volver</button>
  </div>

  <!-- FORMULARIO PEDIR ETIQUETAS -->
  <div class="form-screen hidden" id="etiquetaForm">
    <h3>Pedir Etiquetas</h3>
    <label>¿Cuántas necesitás?</label>
    <input type="number" id="cantidadEtiquetas" min="1" />
    
    <!-- 📢 Nuevo estado visual -->
    <div id="estadoPedido" style="margin-top:10px; color:#444; font-weight:bold;"></div>

    <button onclick="enviarEtiqueta()">Enviar</button>
    <button onclick="volver()">Volver</button>

    <!-- MOSTRAR ETIQUETAS ASIGNADAS SOLO AL RECIBIR -->
    <div id="etiquetasAsignadas" style="margin-top: 20px; display: none;">
      <h4>🧾 Etiquetas asignadas:</h4>
      <ul id="listaEtiquetas"></ul>
    </div>
  </div>

  <!-- FORMULARIO CARGAR NUEVAS ETIQUETAS (solo admin) -->
  <div class="form-screen hidden" id="registroEtiquetasForm">
    <h3>Registrar Nuevas Etiquetas</h3>
    <label>Etiqueta desde (número)</label>
    <input type="number" id="etiquetaInicio" min="1" />

    <label>Etiqueta hasta (número)</label>
    <input type="number" id="etiquetaFin" min="1" />

    <button onclick="registrarEtiquetas()">Registrar</button>
    <button onclick="volver()">Volver</button>
  </div>

  <!-- NUEVO PANEL PARA EL HISTORIAL DE ETIQUETAS -->
  <div id="panelMisEtiquetas" class="form-screen hidden"></div>

  <script src="script.js"></script>
</body>

</html>
